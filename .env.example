# ============================================
# API Keys
# ============================================
# Anthropic API key (optional - for Claude models)
ANTHROPIC_API_KEY=your_anthropic_api_key_here

# Google Gemini API key (for Gemini models, vision, and image generation)
GOOGLE_API_KEY=your_google_api_key_here

# OpenAI API key (for GPT models and embeddings)
OPENAI_API_KEY=your_openai_api_key_here

# Firecrawl API key (for web search) - https://firecrawl.dev/
FIRECRAWL_API_KEY=your_firecrawl_api_key_here

# Jina API key (for web scraping) - https://jina.ai/
JINA_API_KEY=your_jina_api_key_here

# ============================================
# Plugin Architecture (for future use)
# ============================================
LLM_PROVIDER=ollama
LLM_MODEL=llama3.1:latest
EMBEDDING_PROVIDER=openai
EMBEDDING_MODEL=text-embedding-3-small
RETRIEVAL_STRATEGY=hybrid

# ============================================
# Embeddings (Legacy - STILL USED)
# ============================================
# Default embedding model - must match existing documents
# OpenAI models: text-embedding-3-small (1536-dim), text-embedding-3-large (3072-dim)
DEFAULT_EMBEDDING_MODEL=text-embedding-3-small

# ============================================
# Model Settings (temperature/tokens)
# ============================================
# Anthropic (Claude) settings
ANTHROPIC_TEMPERATURE=0.7
ANTHROPIC_MAX_TOKENS=4096

# Gemini settings
GEMINI_TEMPERATURE=0.7
GEMINI_MAX_OUTPUT_TOKENS=4096

# ============================================
# Ollama
# ============================================
OLLAMA_HOST=localhost
OLLAMA_PORT=11434

# ============================================
# Context Window
# ============================================
# Model context window (llama3.1 supports 128K)
CONTEXT_WINDOW=128000
# Chat memory buffer limit
CHAT_TOKEN_LIMIT=32000

# ============================================
# Image Generation / Studio
# ============================================
IMAGE_GENERATION_PROVIDER=gemini
# Gemini image models:
#   gemini-3-pro-image-preview - Nano Banana Pro, higher quality 4K
#   gemini-2.0-flash-exp - Nano Banana, fast experimental
# Imagen models:
#   imagen-4.0-generate-001 - Production quality
#   imagen-4.0-fast-generate-001 - Faster, lower quality
#   imagen-4.0-ultra-generate-001 - Highest quality
GEMINI_IMAGE_MODEL=gemini-3-pro-image-preview
IMAGE_OUTPUT_DIR=outputs/images
MAX_IMAGE_SIZE_MB=10
SUPPORTED_IMAGE_FORMATS=jpg,jpeg,png,webp

# ============================================
# Vision
# ============================================
VISION_PROVIDER=gemini
GEMINI_VISION_MODEL=gemini-2.0-flash-exp
OPENAI_VISION_MODEL=gpt-4o

# ============================================
# Database (local dev - Docker overrides)
# ============================================
POSTGRES_HOST=localhost
POSTGRES_PORT=5433
POSTGRES_DB=dbnotebook_dev
POSTGRES_USER=dbnotebook
POSTGRES_PASSWORD=dbnotebook
DATABASE_URL=postgresql://dbnotebook:dbnotebook@localhost:5433/dbnotebook_dev

# ============================================
# pgvector
# ============================================
# Table name for vector embeddings (must match alembic migration)
PGVECTOR_TABLE_NAME=data_embeddings
# Embedding dimension (1536 for OpenAI text-embedding-3-small)
PGVECTOR_EMBED_DIM=1536

# ============================================
# SQL Chat
# ============================================
# Encryption key for stored database connections (leave empty for dev)
# Generate with: python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
SQL_CHAT_ENCRYPTION_KEY=
# Skip readonly connection check (for databases that don't support it)
SQL_CHAT_SKIP_READONLY_CHECK=false
# Maximum few-shot examples for SQL generation
FEW_SHOT_MAX_EXAMPLES=100000

# ============================================
# API Authentication (optional)
# ============================================
# API key for /api/query endpoint (programmatic access)
# When set, requests must include X-API-Key header
API_KEY=

# ============================================
# RBAC Configuration (optional)
# ============================================
# Enable strict role-based access control
# When true, enforces user permissions on all endpoints
RBAC_STRICT_MODE=false
